mqtt:
  enabled: false
cameras:
  lab_elektroniczny:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_ELAB_RTSP}
          roles:
            - detect
            - record
  softroom:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_SOFTROOM_RTSP}
          roles:
            - detect
            - record
  hardroom_na_drzwi:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_HARDROOM_NA_DRZWI_RTSP}
          roles:
            - detect
            - record
  hardroom_od_drzwi:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_HARDROOM_OD_DRZWI_RTSP}
          roles:
            - detect
            - record
  korytarz:
    ffmpeg:
      output_args:
        detect: -vf transpose=1 -f rawvideo -pix_fmt yuv420p

      inputs:
        - path: rtsp://{FRIGATE_KORYTARZ_RTSP}
          roles:
            - detect
            - record
  korytarz_wyjscie:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_KORYTARZ_WYJSCIE_RTSP}
          roles:
            - detect
            - record
  # magazynek:
  # # this is an mjpeg camera, it needs transcoding
    # ffmpeg:
      # input_args: -avoid_negative_ts make_zero -fflags nobuffer -flags low_delay -strict experimental -fflags +genpts+discardcorrupt -use_wallclock_as_timestamps 1
      # output_args:
        # record: -f segment -segment_time 10 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c:v libx264 -an
        # rtmp: -c:v libx264 -an -f flv
      # inputs:
        # - path: rtsp://{FRIGATE_MAGAZYNEK_RTSP}
          # roles:
            # - detect
            # - record
  magazynek2:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_MAGAZYNEK2_RTSP}
          roles:
            - detect
            - record

detectors:
  cpu1:
    type: cpu
    num_threads: 3
ffmpeg:
  hwaccel_args: -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -hwaccel_output_format yuv420p

# NOTE: Can be overridden at the camera level
record:
  # Optional: Enable recording (default: shown below)
  # WARNING: If recording is disabled in the config, turning it on via
  #          the UI or MQTT later will have no effect.
  enabled: False
  # Optional: Number of minutes to wait between cleanup runs (default: shown below)
  # This can be used to reduce the frequency of deleting recording segments from disk if you want to minimize i/o
  expire_interval: 60
  # Optional: Retention settings for recording
  retain:
    # Optional: Number of days to retain recordings regardless of events (default: shown below)
    # NOTE: This should be set to 0 and retention should be defined in events section below
    #       if you only want to retain recordings of events.
    days: 1
